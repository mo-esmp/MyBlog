@model MyBlog.Web.Models.HomeViewModel

@{
    ViewBag.Title = "صفحه اصلی";
}

<div class="col-lg-3 col-md-2 ">
    <div id="tagList">
        <h3>تگها</h3>
        <ul>
            @foreach (var tag in Model.Tags)
            {
                <li><a href="@Url.Action("PostsByTag", "Post", new {slug = tag.Slug})">@tag.Name</a></li>
            }
        </ul>
    </div>
</div>

<div class="col-lg-8 col-lg-offset-0 col-md-9 col-md-offset-0">
    @foreach (var post in Model.Posts)
    {
        <div class="post-preview">
            <a href="@Url.Action("PostDetail", "Post", new { id = post.Id, slug = post.Slug })">
                <h2 class="post-title">
                    @post.Title
                </h2>
                <div class="post-subtitle">
                    @Html.Raw(post.Summary.TruncateHtml(350))
                </div>
            </a>
            <p class="post-meta">
                <a><i class="glyphicon glyphicon-calendar"></i></a>&nbsp;<span class="date">@post.CreateDate.ToJalaliDateTimeFullString().ToPersianDigits()</span> <span class="divider-vertical"></span>
                <a><i class="glyphicon glyphicon-comment"></i></a>&nbsp;<span class="date">@post.CommentCount.ToString().ToPersianDigits()</span> <span class="divider-vertical"></span>
                <a> <i class="glyphicon glyphicon-tag"></i></a>&nbsp;
                @*<span dir="ltr">@post.Tags.Aggregate(string.Empty, (current, tag) => current + (", " + tag)).TrimStart(',')</span>*@
                <span>
                    @foreach (var tag in post.Tags)
                    {
                        <a href="@Url.Action("PostsByTag", "Post", new { slug = tag.Slug })">@tag.Name</a><text>&nbsp;</text>
                    }
                </span>
            </p>
        </div>
        <hr />
    }

    <!-- Pager -->
    <ul class="pager">
        <li class="next">
            <a href="#">پست های قدیمی تر &rarr;</a>
        </li>
    </ul>
</div>