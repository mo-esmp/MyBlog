@model IEnumerable<MyBlog.Domain.ContactMessageEntity>

<a href="#" class="dropdown-toggle" data-toggle="dropdown">
    <i class="fa fa-envelope"></i>
    @if (Model.Any())
    {
        <span class="label label-success">@Model.Count()</span>
    }
</a>

<ul class="dropdown-menu">
    @if (Model.Any())
    {
        <li>
            <ul class="menu">
                @foreach (var message in Model)
                {
                    <li>
                        <!-- start message -->
                        <a href="@Url.Action("Detail", "ContactMessage", new {id=message.Id})">
                            <h4>
                                @message.Name
                                <small><i class="fa fa-clock-o"></i> @message.CreateDate.TimeAgo()</small>
                            </h4>
                            <p>@Html.TurncateString(message.Message, 50)</p>
                        </a>
                    </li>
                }
            </ul>
        </li>
    }
    else
    {
        <li class="header">هیچ پیام جدید وجود ندارد</li>
    }
    <li class="footer"><a href="@Url.Action("Index", "ContactMessage")">مشاهده همه پیامها</a></li>
</ul>
